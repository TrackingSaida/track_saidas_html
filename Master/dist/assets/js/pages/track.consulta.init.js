!function(){function t(t){return document.getElementById(t)}var n=t("codigoBusca"),e=t("btnBuscar"),s=t("resBusca"),a=t("msgBusca"),o=t("noresult");function r(t){t&&t.length?(o.classList.add("d-none"),a.textContent="Resultados: "+t.length,s.innerHTML=t.map(function(t){return"<tr><td>"+(t.tsFmt||"")+"</td><td>"+(t.entregador||"")+"</td><td>"+(t.codigo||"")+"</td><td>"+(t.servico||"")+"</td><td>"+(n=t.status,"saiu"===String(n).toLowerCase()?'<span class="badge bg-success-subtle text-success">Saiu</span>':'<span class="badge bg-warning-subtle text-warning">'+(n||"")+"</span>")+"</td><td>"+(t.duplicado?"Sim":"Não")+"</td><td>"+(t.estacao||"")+"</td></tr>";var n}).join("")):(s.innerHTML="",o.classList.remove("d-none"),a.textContent="")}function d(){var t=(n.value||"").trim();t?(a.textContent="Buscando…",s.innerHTML="",o.classList.add("d-none"),window.TrackAPI.searchPedido(t).then(function(t){t&&!1!==t.ok?r(t.rows||[]):(a.textContent=t&&t.error?"Falha: "+t.error:"Falha ao consultar.",r([]))}).catch(function(t){a.textContent="Erro: "+(t&&t.message||String(t)),r([])})):(a.textContent="Informe um código.",n.focus())}e&&e.addEventListener("click",d),n&&n.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),d())})}();